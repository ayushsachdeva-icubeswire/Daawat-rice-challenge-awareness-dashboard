import{r as l,j as e,R as k,d as u,F as H}from"./index-DruPxguO.js";import{P as J}from"./PageTitle-D1LoNsvj.js";import{I as d}from"./IconifyIcon-CYtsdLnn.js";import{e as K,B as y}from"./mockData-DGlejl45.js";import{C as Q,b as O,a as W}from"./Card-BD2a2MVH.js";import{I as F}from"./InputGroup-CXVrh3Mo.js";import{F as w}from"./Form-Ckb3Xr6p.js";import{B as R}from"./Button-3Kzk5Hhl.js";import"./FormCheck-CnC_ZLpN.js";import"./FormControl-CEt0f7ZK.js";import"./warning-Bj_OsbqO.js";import"./FormLabel-CnaNkSmq.js";import"./ElementChildren-CRZ84kJ3.js";import"./InputGroupContext-D75GcffV.js";import"./FormGroup-D7TcD2gv.js";import"./FormSelect-DPRn7EMy.js";import"./FormText-DwZ88_AY.js";import"./Button-Bf0TvPRD.js";const U=m=>{const o=Math.floor((new Date().getTime()-m.getTime())/1e3);if(o<60)return"just now";if(o<3600){const c=Math.floor(o/60);return`${c} ${c===1?"minute":"minutes"} ago`}else if(o<86400){const c=Math.floor(o/3600);return`${c} ${c===1?"hour":"hours"} ago`}else{const c=Math.floor(o/86400);return`${c} ${c===1?"day":"days"} ago`}},ge=()=>{const[m,x]=l.useState(1),[o,c]=l.useState(10),[g,L]=l.useState(""),[f,$]=l.useState("all"),[j,B]=l.useState("all"),[n,I]=l.useState("createdAt"),[h,T]=l.useState("desc"),b=l.useMemo(()=>{const s=[...K],r=[],a=["Day 3: Perfect Basmati Rice Technique","Saffron Rice Instagram Tutorial","Brown Rice Bowl Transformation","Traditional Biryani Secrets","One-Pot Rice Meal Magic","Coconut Rice Paradise Recipe","Spicy Tomato Rice Challenge","Healthy Quinoa Rice Blend","Street Food Rice Delights","Rice Pudding Dessert Goals","15-Min Rice Meal Prep","Regional Rice Specialties"],t=["Biryani","Street Food","Healthy","Desserts","Regional","Quick Meals","Fusion"],i=[{id:"1",name:"Priya Sharma",avatar:"/src/assets/images/users/avatar-1.jpg"},{id:"2",name:"Rahul Khanna",avatar:"/src/assets/images/users/avatar-2.jpg"},{id:"3",name:"Meera Patel",avatar:"/src/assets/images/users/avatar-3.jpg"},{id:"4",name:"Arjun Singh",avatar:"/src/assets/images/users/avatar-4.jpg"},{id:"5",name:"Kavya Reddy",avatar:"/src/assets/images/users/avatar-5.jpg"},{id:"6",name:"Rohit Gupta",avatar:"/src/assets/images/users/avatar-6.jpg"},{id:"7",name:"Sneha Joshi",avatar:"/src/assets/images/users/avatar-7.jpg"},{id:"8",name:"Vikram Menon",avatar:"/src/assets/images/users/avatar-8.jpg"}];for(let N=0;N<35;N++){const E=i[Math.floor(Math.random()*i.length)],S=t[Math.floor(Math.random()*t.length)],G=Math.random()>.3;r.push({id:`post-${N+6}`,title:a[Math.floor(Math.random()*a.length)],content:`Join me in this amazing ${S.toLowerCase()} rice journey! 🍚 This post covers step-by-step instructions, tips from my grandmother, and the perfect Instagram shots for your rice challenge.`,author:E,category:S,tags:[S.toLowerCase(),"30dayschallenge","riceeating","instagramfood"].slice(0,Math.floor(Math.random()*4)+1),createdAt:new Date(Date.now()-Math.random()*30*24*60*60*1e3),updatedAt:Math.random()>.5?new Date(Date.now()-Math.random()*7*24*60*60*1e3):void 0,likes:Math.floor(Math.random()*100),comments:Math.floor(Math.random()*50),shares:Math.floor(Math.random()*30),views:Math.floor(Math.random()*500)+50,isPublished:G})}return[...s,...r]},[]),V=l.useMemo(()=>Array.from(new Set(b.map(r=>r.category))).sort(),[b]),D=l.useMemo(()=>b.filter(s=>{const r=s.title.toLowerCase().includes(g.toLowerCase())||s.content.toLowerCase().includes(g.toLowerCase())||s.author.name.toLowerCase().includes(g.toLowerCase())||s.tags.some(i=>i.toLowerCase().includes(g.toLowerCase())),a=f==="all"||s.category===f,t=j==="all"||j==="published"&&s.isPublished||j==="draft"&&!s.isPublished;return r&&a&&t}),[b,g,f,j]),p=l.useMemo(()=>[...D].sort((s,r)=>{let a=s[n],t=r[n];return(n==="createdAt"||n==="updatedAt")&&(a=a?new Date(a).getTime():0,t=t?new Date(t).getTime():0),typeof a=="string"&&typeof t=="string"&&(a=a.toLowerCase(),t=t.toLowerCase()),a==null&&(a=typeof s[n]=="number"?0:""),t==null&&(t=typeof r[n]=="number"?0:""),a<t?h==="asc"?-1:1:a>t?h==="asc"?1:-1:0}),[D,n,h]),C=Math.ceil(p.length/o),v=(m-1)*o,A=p.slice(v,v+o),P=s=>{n===s?T(h==="asc"?"desc":"asc"):(I(s),T("asc"))},M=s=>{switch(s.toLowerCase()){case"react":return"#61dafb";case"css":return"#1572b6";case"javascript":return"#f7df1e";case"node.js":return"#8cc84b";case"typescript":return"#3178c6";case"design":return"#ff6b6b";case"devops":return"#326ce5";default:return"#8b5cf6"}},z=(s,r)=>s.length>r?`${s.substring(0,r)}...`:s,q=()=>{const s=[],a=Math.max(1,m-Math.floor(2.5)),t=Math.min(C,a+5-1);s.push(e.jsx(R,{variant:"outline-primary",size:"sm",className:"me-2",disabled:m===1,onClick:()=>x(m-1),children:e.jsx(d,{icon:"solar:alt-arrow-left-broken"})},"prev"));for(let i=a;i<=t;i++)s.push(e.jsx(R,{variant:i===m?"primary":"outline-primary",size:"sm",className:"me-2",onClick:()=>x(i),children:i},i));return s.push(e.jsx(R,{variant:"outline-primary",size:"sm",disabled:m===C,onClick:()=>x(m+1),children:e.jsx(d,{icon:"solar:alt-arrow-right-broken"})},"next")),s};return e.jsxs(e.Fragment,{children:[e.jsx(J,{subName:"Daawat",title:"Posts"}),e.jsxs(Q,{children:[e.jsx(O,{children:e.jsxs(k,{className:"align-items-center",children:[e.jsxs(u,{children:[e.jsx("h5",{className:"card-title mb-0",children:"All Posts"}),e.jsxs("small",{className:"text-muted",children:["Showing ",v+1," to ",Math.min(v+o,p.length)," of ",p.length," posts"]})]}),e.jsx(u,{xs:"auto",children:e.jsx(y,{bg:"primary",pill:!0,children:p.length})})]})}),e.jsxs(W,{children:[e.jsxs(k,{className:"mb-4",children:[e.jsx(u,{md:3,children:e.jsxs(F,{children:[e.jsx(F.Text,{children:e.jsx(d,{icon:"solar:magnifer-broken"})}),e.jsx(w.Control,{type:"text",placeholder:"Search posts...",value:g,onChange:s=>L(s.target.value)})]})}),e.jsx(u,{md:2,children:e.jsxs(w.Select,{value:f,onChange:s=>$(s.target.value),children:[e.jsx("option",{value:"all",children:"All Categories"}),V.map(s=>e.jsx("option",{value:s,children:s},s))]})}),e.jsx(u,{md:2,children:e.jsxs(w.Select,{value:j,onChange:s=>B(s.target.value),children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"published",children:"Published"}),e.jsx("option",{value:"draft",children:"Draft"})]})}),e.jsx(u,{md:2,children:e.jsxs(w.Select,{value:o,onChange:s=>{c(Number(s.target.value)),x(1)},children:[e.jsx("option",{value:5,children:"5 per page"}),e.jsx("option",{value:10,children:"10 per page"}),e.jsx("option",{value:25,children:"25 per page"}),e.jsx("option",{value:50,children:"50 per page"})]})})]}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsxs("th",{scope:"col",className:"cursor-pointer",onClick:()=>P("title"),children:["Post ",n==="title"&&e.jsx(d,{icon:h==="asc"?"solar:alt-arrow-up-broken":"solar:alt-arrow-down-broken"})]}),e.jsx("th",{scope:"col",children:"Author"}),e.jsxs("th",{scope:"col",className:"cursor-pointer",onClick:()=>P("category"),children:["Category ",n==="category"&&e.jsx(d,{icon:h==="asc"?"solar:alt-arrow-up-broken":"solar:alt-arrow-down-broken"})]}),e.jsx("th",{scope:"col",children:"Status"}),e.jsx("th",{scope:"col",children:"Engagement"}),e.jsxs("th",{scope:"col",className:"cursor-pointer",onClick:()=>P("createdAt"),children:["Created ",n==="createdAt"&&e.jsx(d,{icon:h==="asc"?"solar:alt-arrow-up-broken":"solar:alt-arrow-down-broken"})]})]})}),e.jsx("tbody",{children:A.map(s=>e.jsxs("tr",{children:[e.jsx("td",{style:{maxWidth:"300px"},children:e.jsxs("div",{children:[e.jsx("h6",{className:"mb-1",children:s.title}),e.jsx("p",{className:"text-muted mb-1 small",children:z(s.content,80)}),e.jsxs("div",{children:[s.tags.slice(0,3).map((r,a)=>e.jsxs(y,{bg:"light",text:"dark",className:"me-1 small",children:["#",r]},a)),s.tags.length>3&&e.jsxs("span",{className:"text-muted small",children:["+",s.tags.length-3]})]})]})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"avatar-xs rounded-circle me-2",style:{width:"24px",height:"24px",backgroundImage:`url(${s.author.avatar})`,backgroundSize:"cover",backgroundPosition:"center"}}),e.jsx("span",{className:"small",children:s.author.name})]})}),e.jsx("td",{children:e.jsx(y,{style:{backgroundColor:`${M(s.category)}20`,color:M(s.category),border:`1px solid ${M(s.category)}30`},children:s.category})}),e.jsx("td",{children:e.jsx(y,{bg:s.isPublished?"success":"warning",children:s.isPublished?"Published":"Draft"})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center me-3",children:[e.jsx(d,{icon:"solar:heart-broken",className:"fs-12 me-1 text-danger"}),e.jsx("span",{className:"small",children:s.likes})]}),e.jsxs("div",{className:"d-flex align-items-center me-3",children:[e.jsx(d,{icon:"solar:chat-round-line-broken",className:"fs-12 me-1 text-primary"}),e.jsx("span",{className:"small",children:s.comments})]}),e.jsxs("div",{className:"d-flex align-items-center me-3",children:[e.jsx(d,{icon:"solar:eye-broken",className:"fs-12 me-1 text-muted"}),e.jsx("span",{className:"small",children:s.views})]})]})}),e.jsx("td",{className:"text-muted small",children:U(s.createdAt)})]},s.id))})]})}),C>1&&e.jsx(k,{className:"mt-4",children:e.jsx(u,{className:"d-flex justify-content-center",children:e.jsx("div",{className:"d-flex align-items-center",children:q()})})}),A.length===0&&e.jsxs("div",{className:"text-center py-5",children:[e.jsx(d,{icon:"solar:document-text-broken",className:"fs-48 text-muted mb-3"}),e.jsx("h5",{className:"text-muted",children:"No posts found"}),e.jsx("p",{className:"text-muted",children:"Try adjusting your search or filter criteria."})]})]})]}),e.jsx(H,{})]})};export{ge as default};
