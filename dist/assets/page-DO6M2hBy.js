import{r as c,j as e}from"./index-_ettZ7g3.js";import{C as T}from"./ComponentContainerCard-Cn3yR4u6.js";import{P as E}from"./PageTitle-DSoGKquk.js";import{C as w}from"./campaignAnalyticsService-C2qp3NHf.js";import{f as A}from"./numberFormat-yIx-nKgv.js";import"./Card-DvLZXGYh.js";import"./IconifyIcon-OyvhsK11.js";import"./api-6P2W6CpQ.js";const V=()=>{var b,p,y,I;const[l,D]=c.useState(null),[m,x]=c.useState(!0),[j,h]=c.useState(null),[t,C]=c.useState(null),[r,N]=c.useState(!0),[g,u]=c.useState(null),[n,z]=c.useState(1),[o]=c.useState(10),[S,f]=c.useState(!1),[a,L]=c.useState(null),M={totalPosts:"0",totalViews:"0",totalLikes:"0",totalComments:"0",totalReshare:"0",avgER:0,avgReach:"0",influencerCount:0,platforms:[{name:"Instagram",followers:0,engagement:0,posts:0},{name:"Facebook",followers:0,engagement:0,posts:0},{name:"Twitter",followers:0,engagement:0,posts:0},{name:"LinkedIn",followers:0,engagement:0,posts:0}]};c.useEffect(()=>{(async()=>{try{x(!0),h(null);const i=await w.getCampaignAnalysis("837");D(i)}catch(i){h(i instanceof Error?i.message:"Failed to fetch analytics data"),console.error("Error fetching analytics:",i)}finally{x(!1)}})()},[]),c.useEffect(()=>{(async()=>{try{N(!0),u(null);const i=await w.getInfluencerList("837",n,o);C(i)}catch(i){u(i instanceof Error?i.message:"Failed to fetch influencer data"),console.error("Error fetching influencers:",i)}finally{N(!1)}})()},[n,o]);const d=l!=null&&l.data?{totalPosts:l.data.total_posts||"0",totalViews:l.data.total_views||"0",totalLikes:l.data.total_likes||"0",totalComments:l.data.total_comments||"0",totalReshare:l.data.total_reshare||"0",avgER:l.data.avg_er||0,avgReach:l.data.avg_reach||"0",influencerCount:l.data.influencer_count||0,platforms:M.platforms}:M;return e.jsxs(e.Fragment,{children:[e.jsx(E,{title:"Social Analytics",subName:"Track your social media performance"}),e.jsxs("div",{className:"container-fluid",children:[m&&e.jsx("div",{className:"row mb-4",children:e.jsxs("div",{className:"col-12 text-center",children:[e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}),e.jsx("p",{className:"mt-2",children:"Loading analytics data..."})]})}),j&&e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"alert alert-danger",role:"alert",children:[e.jsx("i",{className:"fas fa-exclamation-triangle me-2"}),j,e.jsx("button",{className:"btn btn-sm btn-outline-danger ms-3",onClick:()=>window.location.reload(),children:"Retry"})]})})}),!m&&e.jsxs("div",{className:"row mb-4",children:[e.jsx("div",{className:"col-xl-3 col-md-6",children:e.jsx("div",{className:"card bg-primary text-white",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"d-flex justiftotal_viewsy-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"mb-0",children:d.totalPosts}),e.jsx("p",{className:"mb-0",children:"Total Posts"})]}),e.jsx("i",{className:"fas fa-file-alt fa-2x opacity-75"})]})})})}),e.jsx("div",{className:"col-xl-3 col-md-6",children:e.jsx("div",{className:"card bg-success text-white",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"mb-0",children:d.totalViews}),e.jsx("p",{className:"mb-0",children:"Total Views"})]}),e.jsx("i",{className:"fas fa-eye fa-2x opacity-75"})]})})})}),e.jsx("div",{className:"col-xl-3 col-md-6",children:e.jsx("div",{className:"card bg-warning text-white",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"mb-0",children:d.totalLikes}),e.jsx("p",{className:"mb-0",children:"Total Likes"})]}),e.jsx("i",{className:"fas fa-heart fa-2x opacity-75"})]})})})}),e.jsx("div",{className:"col-xl-3 col-md-6",children:e.jsx("div",{className:"card bg-info text-white",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"mb-0",children:d.totalComments}),e.jsx("p",{className:"mb-0",children:"Total Comments"})]}),e.jsx("i",{className:"fas fa-comments fa-2x opacity-75"})]})})})})]}),!m&&(l==null?void 0:l.data)&&e.jsxs("div",{className:"row mb-4",children:[e.jsx("div",{className:"col-xl-3 col-md-6",children:e.jsx("div",{className:"card bg-secondary text-white",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"mb-0",children:d.totalReshare}),e.jsx("p",{className:"mb-0",children:"Total Reshares"})]}),e.jsx("i",{className:"fas fa-share fa-2x opacity-75"})]})})})}),e.jsx("div",{className:"col-xl-3 col-md-6",children:e.jsx("div",{className:"card bg-dark text-white",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"mb-0",children:A(d.influencerCount)}),e.jsx("p",{className:"mb-0",children:"Influencers"})]}),e.jsx("i",{className:"fas fa-user-friends fa-2x opacity-75"})]})})})})]}),e.jsxs(T,{id:"influencer-analytics",title:"Influencer Performance",description:"Detailed analytics by influencers in the campaign",children:[r&&e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading influencers..."})}),e.jsx("p",{className:"mt-2",children:"Loading influencer data..."})]}),g&&e.jsxs("div",{className:"alert alert-danger",role:"alert",children:[e.jsx("i",{className:"fas fa-exclamation-triangle me-2"}),g]}),!r&&((b=t==null?void 0:t.data)==null?void 0:b.result)&&e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-striped table-hover",children:[e.jsx("thead",{className:"table-dark",children:e.jsxs("tr",{children:[e.jsx("th",{children:"S.No"}),e.jsx("th",{children:"Influencer"}),e.jsx("th",{children:"Views "}),e.jsx("th",{children:"Likes"}),e.jsx("th",{children:"Comments"}),e.jsx("th",{children:"Content ER"}),e.jsx("th",{children:"Reach"}),e.jsx("th",{children:"Shares"}),e.jsx("th",{children:"Post Actions"})]})}),e.jsx("tbody",{children:t.data.result.map((s,i)=>{var v;return e.jsxs("tr",{children:[e.jsx("td",{className:"fw-semibold",children:(n-1)*o+i+1}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsxs("div",{className:"position-relative me-3",children:[e.jsx("img",{src:s.profile_pic_url,alt:s.fullname,className:"rounded-circle",style:{width:"40px",height:"40px",objectFit:"cover"},onError:k=>{k.target.src="https://via.placeholder.com/40x40/6c757d/ffffff?text="+s.fullname.charAt(0)}}),e.jsx("i",{className:"fab fa-instagram text-primary position-absolute",style:{fontSize:"12px",bottom:"-2px",right:"-2px",backgroundColor:"white",borderRadius:"50%",padding:"2px",border:"1px solid #dee2e6"}})]}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-semibold text-dark",children:s.fullname}),e.jsx("small",{className:"text-muted",children:s.handle})]})]})}),e.jsx("td",{children:e.jsx("span",{className:"fw-semibold",children:s.total_views})}),e.jsx("td",{children:s.total_likes==="0"?e.jsx("span",{className:"text-warning",children:"Hidden"}):e.jsx("span",{className:"fw-semibold",children:s.total_likes})}),e.jsx("td",{children:e.jsx("span",{className:"fw-semibold",children:s.total_comments})}),e.jsx("td",{children:e.jsx("span",{className:"fw-semibold",children:parseFloat(s.er).toFixed(2)})}),e.jsx("td",{children:e.jsx("span",{className:"fw-semibold",children:typeof s.reach=="number"?A(s.reach):s.reach})}),e.jsx("td",{children:e.jsx("span",{className:"fw-semibold",children:s.total_reshare_count})}),e.jsx("td",{children:e.jsx("img",{src:((v=s.posts[0])==null?void 0:v.display_url)||"https://via.placeholder.com/30x30/6c757d/ffffff",alt:"Post",className:"rounded",style:{width:"30px",height:"30px",objectFit:"cover",cursor:"pointer"},title:"View Post Details",onClick:()=>{L(s),f(!0)}})})]},s.influencer_id)})})]})}),!r&&(t==null?void 0:t.data)&&n<t.data.totalPages&&e.jsx("div",{className:"text-center mt-4",children:e.jsxs("button",{className:"btn btn-outline-primary",onClick:()=>z(s=>s+1),disabled:r,children:[e.jsx("i",{className:"fas fa-chevron-down me-2"}),"Load 10 More"]})}),!r&&(t==null?void 0:t.data)&&e.jsx("div",{className:"text-center mt-3",children:e.jsxs("small",{className:"text-muted",children:["Showing ",(n-1)*o+1," to"," ",Math.min(n*o,t.data.totalCount)," of"," ",t.data.totalCount," influencers"]})})]})]}),S&&a&&e.jsx("div",{className:"modal fade show d-block",tabIndex:-1,style:{backgroundColor:"rgba(0,0,0,0.5)"},children:e.jsx("div",{className:"modal-dialog modal-lg",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("div",{className:"modal-header border-0 pb-0",children:e.jsx("button",{type:"button",className:"btn-close",onClick:()=>f(!1)})}),e.jsx("div",{className:"modal-body pt-0",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsx("img",{src:((p=a.posts[0])==null?void 0:p.display_url)||"https://via.placeholder.com/400x400/6c757d/ffffff",alt:"Post",className:"img-fluid rounded",style:{width:"100%",maxHeight:"500px",objectFit:"cover"}})}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsxs("div",{className:"position-relative me-3",children:[e.jsx("img",{src:a.profile_pic_url,alt:a.fullname,className:"rounded-circle",style:{width:"40px",height:"40px",objectFit:"cover"}}),e.jsx("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl8xXzIpIi8+CjxwYXRoIGQ9Ik0yMC4wMDUgMTIuNzAzQzE3LjI4MiAxMi43MDMgMTQuODk4IDEyLjcwMyAxNC44OTcgMTIuNzAzQzEzLjA2MSAxMi43MDMgMTEuNTY2IDE0LjE5OCAxMS1NjYgMTYuMDM0VjI0LjAzNEMxMS41NjYgMjUuODcgMTMuMDYxIDI3LjM2NSAxNC44OTcgMjcuMzY1SDI1LjExNEMyNi45NSAyNy4zNjUgMjguNDQ1IDI1Ljg3IDI4LjQ0NSAyNC4wMzRWMTYuMDM0QzI4LjQ0NSAxNC4xOTggMjYuOTUgMTIuNzAzIDI1LjExNCAxMi43MDNIMjAuMDA1WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTIwLjAwNSAxNi4wMzVDMTcuODY4IDE2LjAzNSAxNi4xMzYgMTcuNzY3IDE2LjEzNiAxOS45MDRDMTYuMTM2IDIyLjA0MSAxNy44NjggMjMuNzczIDIwLjAwNSAyMy43NzNDMjIuMTQyIDIzLjc3MyAyMy44NzQgMjIuMDQxIDIzLjg3NCAxOS45MDRDMjMuODc0IDE3Ljc2NyAyMi4xNDIgMTYuMDM1IDIwLjAwNSAxNi4wMzVaTTIwLjAwNSAyMi4yM0MxOC43MjEgMjIuMjMgMTcuNjc4IDIxLjE4OCAxNy42NzggMTkuOTA0QzE3LjY3OCAxOC42MiAxOC43MjEgMTcuNTc4IDIwLjAwNSAxNy41NzhDMjEuMjg5IDE3LjU3OCAyMi4zMzEgMTguNjIgMjIuMzMxIDE5LjkwNEMyMi4zMzEgMjEuMTg4IDIxLjI4OSAyMi4yMyAyMC4wMDUgMjIuMjNaIiBmaWxsPSIjRTM0MDVGIi8+CjxwYXRoIGQ9Ik0yNC40NzYgMTYuOTI3QzI0Ljc5OSAxNi45MjcgMjUuMDYxIDE2LjY2NSAyNS4wNjEgMTYuMzQyQzI1LjA2MSAxNi4wMTkgMjQuNzk5IDE1Ljc1NyAyNC40NzYgMTUuNzU3QzI0LjE1MyAxNS43NTcgMjMuODkxIDE2LjAxOSAyMy44OTEgMTYuMzQyQzIzLjg5MSAxNi42NjUgMjQuMTUzIDE2LjkyNyAyNC40NzYgMTYuOTI3WiIgZmlsbD0iI0UzNDA1RiIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzFfMiIgeDE9IjgiIHkxPSI4IiB4Mj0iMzIiIHkyPSIzMiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBzdG9wLWNvbG9yPSIjRkY0NTY4Ii8+CjxzdG9wIG9mZnNldD0iMC41IiBzdG9wLWNvbG9yPSIjRkY0NTY4Ii8+CjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0ZGNDQ0NCIvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPgo=",alt:"Instagram",className:"position-absolute bottom-0 end-0 rounded-circle",style:{border:"2px solid white",width:"18px",height:"18px",objectFit:"cover"}})]}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-semibold",children:a.fullname}),e.jsx("small",{className:"text-muted",children:a.handle})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("small",{className:"text-muted",children:((y=a.posts[0])==null?void 0:y.post_date)||"Oct 10, 2025"}),e.jsx("div",{className:"d-flex align-items-center justify-content-end"})]}),e.jsx("div",{className:"mb-3",children:e.jsx("p",{className:"text-muted small",style:{fontSize:"12px",lineHeight:"1.4",maxHeight:"120px",overflowY:"auto"},children:((I=a.posts[0])==null?void 0:I.caption)||`#Collaboration

📢 Introducing the all-new
*#GalaxyM17 5G* - the Monster In Motion
at a *Special Launch Price* ~₹16499~ *₹12499* 🌟

🤳🏻 50MP No Shake Cam for blur-free videos

💪🏻 Durable Corning Gorilla Glass Victus and IP54 protection 🌟 7.5mm slim design

✨ Circle to Search | Google Gemini

6️⃣ Gen OS and Security updates

📲 sAMOLED Display | 1100 nits

*Sale starts: 13th October*
▶️Head over to Amazon to know more. @samsungindia
#GalaxyM17 5G #MonsterInMotion #LoveForMonster #Samsung #trendup
#ExploreGalaxy #trending #viral #viralreels`})}),e.jsxs("div",{className:"row g-2 mb-4",children:[e.jsx("div",{className:"col-4",children:e.jsx("div",{className:"card border-0 text-center py-3",style:{background:"linear-gradient(135deg, #e91e63 0%, #f06292 100%)",borderRadius:"12px"},children:e.jsxs("div",{className:"d-flex flex-column align-items-center",children:[e.jsx("div",{className:"rounded-circle d-flex align-items-center justify-content-center mb-2",style:{width:"36px",height:"36px",backgroundColor:"rgba(255,255,255,0.2)"},children:e.jsx("i",{className:"fas fa-heart text-white"})}),e.jsx("span",{className:"fw-bold text-white small",children:a.total_likes==="0"?"Hidden":a.total_likes}),e.jsx("small",{className:"text-white-50",children:"Likes"})]})})}),e.jsx("div",{className:"col-4",children:e.jsx("div",{className:"card border-0 text-center py-3",style:{background:"linear-gradient(135deg, #2196f3 0%, #64b5f6 100%)",borderRadius:"12px"},children:e.jsxs("div",{className:"d-flex flex-column align-items-center",children:[e.jsx("div",{className:"rounded-circle d-flex align-items-center justify-content-center mb-2",style:{width:"36px",height:"36px",backgroundColor:"rgba(255,255,255,0.2)"},children:e.jsx("i",{className:"fas fa-comment text-white"})}),e.jsx("span",{className:"fw-bold text-white small",children:a.total_comments}),e.jsx("small",{className:"text-white-50",children:"Comments"})]})})}),e.jsx("div",{className:"col-4",children:e.jsx("div",{className:"card border-0 text-center py-3",style:{background:"linear-gradient(135deg, #4caf50 0%, #81c784 100%)",borderRadius:"12px"},children:e.jsxs("div",{className:"d-flex flex-column align-items-center",children:[e.jsx("div",{className:"rounded-circle d-flex align-items-center justify-content-center mb-2",style:{width:"36px",height:"36px",backgroundColor:"rgba(255,255,255,0.2)"},children:e.jsx("i",{className:"fas fa-share text-white"})}),e.jsx("span",{className:"fw-bold text-white small",children:a.total_views}),e.jsx("small",{className:"text-white-50",children:"Views"})]})})})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsxs("span",{className:"badge bg-dark me-2",children:[(parseFloat(a.er)*100).toFixed(2),"%"]}),e.jsx("small",{className:"text-muted",children:"ER"})]}),e.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>{var s;(s=a.posts[0])!=null&&s.post_link&&window.open(a.posts[0].post_link,"_blank")},children:"View More"})]})]})]})})]})})})]})};export{V as default};
