import{r,j as x,J as ge,e as M,f as O,G as z,o as we,k as he}from"./index-B0ozVwcc.js";import{d as Q,q as H}from"./DataKey-COGXBUcQ.js";import{$ as xe,u as be,c as ve}from"./NavbarContext-DNcC0dbm.js";import{u as ye}from"./usePrevious-CGcUVITh.js";import{S as B,N as Ce,m as q,u as Ee}from"./NavContext-BETS63pI.js";import{u as F}from"./useEventCallback-BQ9wyjc8.js";import{a as De,b as ke,m as $e,c as Ne,u as Pe}from"./useIsomorphicEffect-BELxFPH9.js";import{B as je}from"./Button-C3yKVp0Y.js";import{u as Re}from"./useWindow-C5HZN4JJ.js";import{u as Ie}from"./hook-0L1907JA.js";import{A as Te}from"./Anchor-DjFsAI6s.js";import"./warning-CC86dgvH.js";import{c as X}from"./InputGroupContext-CsXr6sb-.js";import{B as Se}from"./Button-BJiq-Yil.js";function Me(t,e,o,n=!1){const s=F(o);r.useEffect(()=>{const a=typeof t=="function"?t():t;return a.addEventListener(e,s,n),()=>a.removeEventListener(e,s,n)},[t])}const _=r.createContext(null),Oe=["children","usePopper"];function Ae(t,e){if(t==null)return{};var o={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;o[n]=t[n]}return o}const Fe=()=>{};function Y(t={}){const e=r.useContext(_),[o,n]=De(),s=r.useRef(!1),{flip:a,offset:u,rootCloseEvent:i,fixed:d=!1,placement:l,popperConfig:m={},enableEventListeners:c=!0,usePopper:b=!!e}=t,g=(e==null?void 0:e.show)==null?!!t.show:e.show;g&&!s.current&&(s.current=!0);const D=T=>{e==null||e.toggle(!1,T)},{placement:k,setMenu:C,menuElement:R,toggleElement:$}=e||{},w=ke($,R,$e({placement:l||k||"bottom-start",enabled:b,enableEvents:c??g,offset:u,flip:a,fixed:d,arrowElement:o,popperConfig:m})),I=Object.assign({ref:C||Fe,"aria-labelledby":$==null?void 0:$.id},w.attributes.popper,{style:w.styles.popper}),v={show:g,placement:k,hasShown:s.current,toggle:e==null?void 0:e.toggle,popper:b?w:null,arrowProps:b?Object.assign({ref:n},w.attributes.arrow,{style:w.styles.arrow}):{}};return Ne(R,D,{clickTrigger:i,disabled:!g}),[I,v]}function Z(t){let{children:e,usePopper:o=!0}=t,n=Ae(t,Oe);const[s,a]=Y(Object.assign({},n,{usePopper:o}));return x.jsx(x.Fragment,{children:e(s,a)})}Z.displayName="DropdownMenu";const ee=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},J=()=>{};function te(){const t=xe(),{show:e=!1,toggle:o=J,setToggle:n,menuElement:s}=r.useContext(_)||{},a=r.useCallback(i=>{o(!e,i)},[e,o]),u={id:t,ref:n||J,onClick:a,"aria-expanded":!!e};return s&&ee(s)&&(u["aria-haspopup"]=!0),[u,{show:e,toggle:o}]}function oe({children:t}){const[e,o]=te();return x.jsx(x.Fragment,{children:t(e,o)})}oe.displayName="DropdownToggle";const We=["eventKey","disabled","onClick","active","as"];function _e(t,e){if(t==null)return{};var o={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;o[n]=t[n]}return o}function ne({key:t,href:e,active:o,disabled:n,onClick:s}){const a=r.useContext(B),u=r.useContext(Ce),{activeKey:i}=u||{},d=q(t,e),l=o==null&&t!=null?q(i)===d:o;return[{onClick:F(c=>{n||(s==null||s(c),a&&!c.isPropagationStopped()&&a(d,c))}),"aria-disabled":n||void 0,"aria-selected":l,[Q("dropdown-item")]:""},{isActive:l}]}const se=r.forwardRef((t,e)=>{let{eventKey:o,disabled:n,onClick:s,active:a,as:u=je}=t,i=_e(t,We);const[d]=ne({key:o,href:i.href,disabled:n,onClick:s,active:a});return x.jsx(u,Object.assign({},i,{ref:e},d))});se.displayName="DropdownItem";function V(){const t=Ee(),e=r.useRef(null),o=r.useCallback(n=>{e.current=n,t()},[t]);return[e,o]}function W({defaultShow:t,show:e,onSelect:o,onToggle:n,itemSelector:s=`* [${Q("dropdown-item")}]`,focusFirstItemOnShow:a,placement:u="bottom-start",children:i}){const d=Re(),[l,m]=be(e,t,n),[c,b]=V(),g=c.current,[D,k]=V(),C=D.current,R=ye(l),$=r.useRef(null),w=r.useRef(!1),I=r.useContext(B),v=r.useCallback((p,f,y=f==null?void 0:f.type)=>{m(p,{originalEvent:f,source:y})},[m]),T=F((p,f)=>{o==null||o(p,f),v(!1,f,"select"),f.isPropagationStopped()||I==null||I(p,f)}),E=r.useMemo(()=>({toggle:v,placement:u,show:l,menuElement:g,toggleElement:C,setMenu:b,setToggle:k}),[v,u,l,g,C,b,k]);g&&R&&!l&&(w.current=g.contains(g.ownerDocument.activeElement));const h=F(()=>{C&&C.focus&&C.focus()}),P=F(()=>{const p=$.current;let f=a;if(f==null&&(f=c.current&&ee(c.current)?"keyboard":!1),f===!1||f==="keyboard"&&!/^key.+$/.test(p))return;const y=H(c.current,s)[0];y&&y.focus&&y.focus()});r.useEffect(()=>{l?P():w.current&&(w.current=!1,h())},[l,w,h,P]),r.useEffect(()=>{$.current=null});const A=(p,f)=>{if(!c.current)return null;const y=H(c.current,s);let j=y.indexOf(p)+f;return j=Math.max(0,Math.min(j,y.length)),y[j]};return Me(r.useCallback(()=>d.document,[d]),"keydown",p=>{var f,y;const{key:j}=p,S=p.target,L=(f=c.current)==null?void 0:f.contains(S),me=(y=D.current)==null?void 0:y.contains(S);if(/input|textarea/i.test(S.tagName)&&(j===" "||j!=="Escape"&&L||j==="Escape"&&S.type==="search")||!L&&!me||j==="Tab"&&(!c.current||!l))return;$.current=p.type;const U={originalEvent:p,source:p.type};switch(j){case"ArrowUp":{const N=A(S,-1);N&&N.focus&&N.focus(),p.preventDefault();return}case"ArrowDown":if(p.preventDefault(),!l)m(!0,U);else{const N=A(S,1);N&&N.focus&&N.focus()}return;case"Tab":ge(S.ownerDocument,"keyup",N=>{var G;(N.key==="Tab"&&!N.target||!((G=c.current)!=null&&G.contains(N.target)))&&m(!1,U)},{once:!0});break;case"Escape":j==="Escape"&&(p.preventDefault(),p.stopPropagation()),m(!1,U);break}}),x.jsx(B.Provider,{value:T,children:x.jsx(_.Provider,{value:E,children:i})})}W.displayName="Dropdown";W.Menu=Z;W.Toggle=oe;W.Item=se;const K=r.createContext({});K.displayName="DropdownContext";const re=r.forwardRef(({className:t,bsPrefix:e,as:o="hr",role:n="separator",...s},a)=>(e=M(e,"dropdown-divider"),x.jsx(o,{ref:a,className:O(t,e),role:n,...s})));re.displayName="DropdownDivider";const ae=r.forwardRef(({className:t,bsPrefix:e,as:o="div",role:n="heading",...s},a)=>(e=M(e,"dropdown-header"),x.jsx(o,{ref:a,className:O(t,e),role:n,...s})));ae.displayName="DropdownHeader";const ce=r.forwardRef(({bsPrefix:t,className:e,eventKey:o,disabled:n=!1,onClick:s,active:a,as:u=Te,...i},d)=>{const l=M(t,"dropdown-item"),[m,c]=ne({key:o,href:i.href,disabled:n,onClick:s,active:a});return x.jsx(u,{...i,...m,ref:d,className:O(e,l,c.isActive&&"active",n&&"disabled")})});ce.displayName="DropdownItem";const le=r.forwardRef(({className:t,bsPrefix:e,as:o="span",...n},s)=>(e=M(e,"dropdown-item-text"),x.jsx(o,{ref:s,className:O(t,e),...n})));le.displayName="DropdownItemText";function ue(t,e){return t}function ie(t,e,o){const n=o?"top-end":"top-start",s=o?"top-start":"top-end",a=o?"bottom-end":"bottom-start",u=o?"bottom-start":"bottom-end",i=o?"right-start":"left-start",d=o?"right-end":"left-end",l=o?"left-start":"right-start",m=o?"left-end":"right-end";let c=t?u:a;return e==="up"?c=t?s:n:e==="end"?c=t?m:l:e==="start"?c=t?d:i:e==="down-centered"?c="bottom":e==="up-centered"&&(c="top"),c}const de=r.forwardRef(({bsPrefix:t,className:e,align:o,rootCloseEvent:n,flip:s=!0,show:a,renderOnMount:u,as:i="div",popperConfig:d,variant:l,...m},c)=>{let b=!1;const g=r.useContext(ve),D=M(t,"dropdown-menu"),{align:k,drop:C,isRTL:R}=r.useContext(K);o=o||k;const $=r.useContext(X),w=[];if(o)if(typeof o=="object"){const p=Object.keys(o);if(p.length){const f=p[0],y=o[f];b=y==="start",w.push(`${D}-${f}-${y}`)}}else o==="end"&&(b=!0);const I=ie(b,C,R),[v,{hasShown:T,popper:E,show:h,toggle:P}]=Y({flip:s,rootCloseEvent:n,show:a,usePopper:!g&&w.length===0,offset:[0,2],popperConfig:d,placement:I});if(v.ref=z(ue(c),v.ref),Pe(()=>{h&&(E==null||E.update())},[h]),!T&&!u&&!$)return null;typeof i!="string"&&(v.show=h,v.close=()=>P==null?void 0:P(!1),v.align=o);let A=m.style;return E!=null&&E.placement&&(A={...m.style,...v.style},m["x-placement"]=E.placement),x.jsx(i,{...m,...v,style:A,...(w.length||g)&&{"data-bs-popper":"static"},className:O(e,D,h&&"show",b&&`${D}-end`,l&&`${D}-${l}`,...w)})});de.displayName="DropdownMenu";const pe=r.forwardRef(({bsPrefix:t,split:e,className:o,childBsPrefix:n,as:s=Se,...a},u)=>{const i=M(t,"dropdown-toggle"),d=r.useContext(_);n!==void 0&&(a.bsPrefix=n);const[l]=te();return l.ref=z(l.ref,ue(u)),x.jsx(s,{className:O(o,i,e&&`${i}-split`,(d==null?void 0:d.show)&&"show"),...l,...a})});pe.displayName="DropdownToggle";const fe=r.forwardRef((t,e)=>{const{bsPrefix:o,drop:n="down",show:s,className:a,align:u="start",onSelect:i,onToggle:d,focusFirstItemOnShow:l,as:m="div",navbar:c,autoClose:b=!0,...g}=Ie(t,{show:"onToggle"}),D=r.useContext(X),k=M(o,"dropdown"),C=we(),R=E=>b===!1?E==="click":b==="inside"?E!=="rootClose":b==="outside"?E!=="select":!0,$=he((E,h)=>{var P;!((P=h.originalEvent)==null||(P=P.target)==null)&&P.classList.contains("dropdown-toggle")&&h.source==="mousedown"||(h.originalEvent.currentTarget===document&&(h.source!=="keydown"||h.originalEvent.key==="Escape")&&(h.source="rootClose"),R(h.source)&&(d==null||d(E,h)))}),I=ie(u==="end",n,C),v=r.useMemo(()=>({align:u,drop:n,isRTL:C}),[u,n,C]),T={down:k,"down-centered":`${k}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return x.jsx(K.Provider,{value:v,children:x.jsx(W,{placement:I,show:s,onSelect:i,onToggle:$,focusFirstItemOnShow:l,itemSelector:`.${k}-item:not(.disabled):not(:disabled)`,children:D?g.children:x.jsx(m,{...g,ref:e,className:O(a,s&&"show",T[n])})})})});fe.displayName="Dropdown";const tt=Object.assign(fe,{Toggle:pe,Menu:de,Item:ce,ItemText:le,Divider:re,Header:ae});export{tt as D,pe as a,de as b,ce as c,re as d,ae as e};
