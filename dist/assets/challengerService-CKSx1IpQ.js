import{l as h}from"./index-Bh85SR9Q.js";import{A as i}from"./api-BDs4y23Q.js";const r=c=>{var o,t,e;try{const n=(o=h.getCookie("_DARKONE_AUTH_KEY_"))==null?void 0:o.toString();if(n){const a=JSON.parse(n);if(a!=null&&a.token)return a.token}const p=(t=h.getCookie("token"))==null?void 0:t.toString();return c||p||localStorage.getItem("authToken")||""}catch(n){return console.warn("Failed to get auth token from session:",n),((e=h.getCookie("token"))==null?void 0:e.toString())||localStorage.getItem("authToken")||""}},g=()=>({authorization:r(),"Content-Type":"application/json"});class u{static async getAllChallengers(o){try{if(!r())throw new Error("Authentication token not found. Please login again.");const e=new URLSearchParams;o!=null&&o.category&&e.append("category",o.category),o!=null&&o.subcategory&&e.append("subcategory",o.subcategory),o!=null&&o.type&&e.append("type",o.type),o!=null&&o.duration&&e.append("duration",o.duration),o!=null&&o.search&&e.append("search",o.search),o!=null&&o.page&&e.append("page",o.page.toString()),o!=null&&o.limit&&e.append("limit",o.limit.toString());const n=await fetch(`${i.API_URL}/challenger?${e.toString()}`,{method:"GET",headers:g()});if(!n.ok)throw new Error(`Failed to fetch challengers: ${n.statusText}`);return await n.json()}catch(t){throw console.error("Error fetching challengers:",t),t}}static async getChallengerById(o){try{if(!r())throw new Error("Authentication token not found. Please login again.");const e=await fetch(`${i.API_URL}/challenger/${o}`,{method:"GET",headers:g()});if(!e.ok)throw new Error(`Failed to fetch challenger: ${e.statusText}`);return await e.json()}catch(t){throw console.error("Error fetching challenger:",t),t}}static async deleteChallenger(o){try{if(!r())throw new Error("Authentication token not found. Please login again.");const e=await fetch(`http://localhost:8080/api/challenger/${o}`,{method:"DELETE",headers:g()});if(!e.ok)throw new Error(`Failed to delete challenger: ${e.statusText}`)}catch(t){throw console.error("Error deleting challenger:",t),t}}}export{u as C};
