import{r as o,j as e}from"./index-WD4EPAaG.js";import{C as k}from"./ComponentContainerCard-CBCzPs7Z.js";import{P as W}from"./PageTitle-9G00Qh9f.js";import"./Card-BRVk4TLp.js";import"./IconifyIcon-B3FW8K4f.js";const T=(x,f)=>{const i=x.length,m=x.reduce((n,c)=>n+c.total_likes,0),l=x.reduce((n,c)=>n+c.total_comments,0),r=x.reduce((n,c)=>n+(c.reshare_count||0),0),v=x.reduce((n,c)=>n+(c.total_play||0),0),N=x.reduce((n,c)=>n+c.reach,0),h=m+l+r,g=i>0?h/i:0,j=new Map;x.forEach(n=>{j.has(n.influencer.id)||j.set(n.influencer.id,n.influencer)});const b=Array.from(j.values()).slice(0,5),u=x,S="Instagram",C=(u.length>0?u.reduce((n,c)=>n+c.total_likes+c.total_comments,0)/u.length:0)>g*1.2||i>20;return{hashtag:`#${f}`,platform:S,posts:i,reach:N,engagement:h,impressions:v+N,trending:C,totalLikes:m,totalComments:l,totalShares:r,totalPlays:v,avgEngagementRate:g,topInfluencers:b,recentPosts:u}};class A{static async getCampaignContents(f="itchotels",i=1,m=8){try{const l=await fetch(`https://apis.icubeswire.co/api/v1/campaign-contents?page=${i}&limit=${m}&hashtags[0]=${f}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!l.ok)throw new Error(`API call failed: ${l.status} ${l.statusText}`);return await l.json()}catch(l){throw console.error("Error fetching campaign contents:",l),l}}static async getMultipleHashtagsPerformance(f,i=1,m=8){try{const l=f.map((N,h)=>`hashtags[${h}]=${N}`).join("&"),r=await fetch(`https://apis.icubeswire.co/api/v1/campaign-contents?page=${i}&limit=${m}&${l}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!r.ok)throw new Error(`API call failed: ${r.status} ${r.statusText}`);return await r.json()}catch(l){throw console.error("Error fetching multiple hashtags performance:",l),l}}static async getCampaignAnalysis(f="itchotels"){try{const i=await fetch(`https://apis.icubeswire.co/api/v1/campaign-contents/analysis?hashtags[0]=${f}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!i.ok)throw new Error(`API call failed: ${i.status} ${i.statusText}`);return{success:!0,data:await i.json(),message:"Campaign analysis data retrieved successfully"}}catch(i){throw console.error("Error fetching campaign analysis:",i),i}}}const J=()=>{var L,F,H;const[x,f]=o.useState(""),[i,m]=o.useState([]),[l,r]=o.useState(!0),[v,N]=o.useState(null),[h]=o.useState("itchotels"),[g,j]=o.useState(1),[b]=o.useState(8),[u,S]=o.useState(0),[y,C]=o.useState(0),[n,c]=o.useState([]),[w,E]=o.useState(new Set),[P,_]=o.useState(new Set),[d,M]=o.useState(null),$=[{hashtag:"#foodie",posts:1245,reach:15e4,engagement:12500,impressions:2e5,platform:"Instagram",trending:!0},{hashtag:"#healthyeating",posts:892,reach:98e3,engagement:8900,impressions:145e3,platform:"Instagram",trending:!1},{hashtag:"#recipe",posts:2156,reach:18e4,engagement:15600,impressions:25e4,platform:"Facebook",trending:!0},{hashtag:"#cooking",posts:756,reach:85e3,engagement:7200,impressions:12e4,platform:"Twitter",trending:!1},{hashtag:"#nutrition",posts:623,reach:72e3,engagement:6100,impressions:95e3,platform:"LinkedIn",trending:!0}];o.useEffect(()=>{(async()=>{try{r(!0),N(null);let a,t;try{a=await A.getCampaignContents(h,1,b),console.log("Campaign Contents API Response:",a)}catch(p){console.error("Contents API Error:",p)}try{t=await A.getCampaignAnalysis(h),console.log("Campaign Analysis API Response:",t)}catch(p){console.error("Analysis API Error:",p)}if(a!=null&&a.success&&a.data.posts.length>0){S(a.data.total_count),C(a.data.total_pages),c(a.data.posts),E(new Set),_(new Set);const p=T(a.data.posts,h);m([p]),j(1)}else m([]),c([]),S(0),C(0),j(1);t!=null&&t.success?M(t.data):M(null)}catch(a){N("Failed to fetch some campaign data. Please try again."),console.error("General API Error:",a),m([]),c([]),M(null)}finally{r(!1)}})()},[h,b]);const D=async()=>{if(!(g>=y||l))try{r(!0);const s=g+1,a=await A.getCampaignContents(h,s,b);if(a.success&&a.data.posts.length>0){const t=[...n,...a.data.posts];c(t);const p=T(t,h);m([p]),j(s)}}catch(s){console.error("Error loading more data:",s)}finally{r(!1)}},O=s=>{E(a=>{const t=new Set(a);return t.has(s)?t.delete(s):t.add(s),t})},z=s=>{_(a=>{const t=new Set(a);return t.has(s)?t.delete(s):t.add(s),t})},I=i.length>0?i:$,G=I.reduce((s,a)=>s+a.reach,0),R=I.reduce((s,a)=>s+a.engagement,0),Z=I.reduce((s,a)=>s+a.posts,0),B=I.filter(s=>s.trending).length;return e.jsxs(e.Fragment,{children:[e.jsx(W,{title:"Hashtag Performance",subName:"Track hashtag effectiveness across platforms"}),e.jsxs("div",{className:"container-fluid",children:[l&&e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}),e.jsx("p",{className:"mt-2",children:"Loading campaign data..."})]})})}),v&&e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"alert alert-danger",role:"alert",children:[e.jsx("i",{className:"fas fa-exclamation-triangle me-2"}),v,e.jsx("button",{className:"btn btn-sm btn-outline-danger ms-3",onClick:()=>window.location.reload(),children:"Retry"})]})})}),!l&&e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-md-6"})}),!l&&e.jsxs(e.Fragment,{children:[d?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"row mb-4",children:[e.jsx("div",{className:"col-lg-3 col-md-6 mb-3",children:e.jsx("div",{className:"card border-0 shadow-sm",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:e.jsx("div",{className:"card-body text-white",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-1 fw-bold",children:d.total_followers.toLocaleString()}),e.jsx("p",{className:"mb-0 opacity-75",children:"Total Followers"}),e.jsx("small",{className:"opacity-75",children:"Cumulative reach"})]}),e.jsx("div",{className:"text-end",children:e.jsx("i",{className:"fas fa-users fa-2x opacity-75"})})]})})})}),e.jsx("div",{className:"col-lg-3 col-md-6 mb-3",children:e.jsx("div",{className:"card border-0 shadow-sm",style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"},children:e.jsx("div",{className:"card-body text-white",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-1 fw-bold",children:d.total_engagements.toLocaleString()}),e.jsx("p",{className:"mb-0 opacity-75",children:"Total Engagements"}),e.jsx("small",{className:"opacity-75",children:"Likes + Comments + Shares"})]}),e.jsx("div",{className:"text-end",children:e.jsx("i",{className:"fas fa-heart fa-2x opacity-75"})})]})})})}),e.jsx("div",{className:"col-lg-3 col-md-6 mb-3",children:e.jsx("div",{className:"card border-0 shadow-sm",style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"},children:e.jsx("div",{className:"card-body text-white",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-1 fw-bold",children:d.total_plays.toLocaleString()}),e.jsx("p",{className:"mb-0 opacity-75",children:"Total Video Plays"}),e.jsx("small",{className:"opacity-75",children:"Video content views"})]}),e.jsx("div",{className:"text-end",children:e.jsx("i",{className:"fas fa-play-circle fa-2x opacity-75"})})]})})})}),e.jsx("div",{className:"col-lg-3 col-md-6 mb-3",children:e.jsx("div",{className:"card border-0 shadow-sm",style:{background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)"},children:e.jsx("div",{className:"card-body text-white",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"mb-1 fw-bold",children:[(d.avg_er*100).toFixed(1),"%"]}),e.jsx("p",{className:"mb-0 opacity-75",children:"Avg Engagement Rate"}),e.jsx("small",{className:"opacity-75",children:"Performance metric"})]}),e.jsx("div",{className:"text-end",children:e.jsx("i",{className:"fas fa-chart-line fa-2x opacity-75"})})]})})})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx("div",{className:"col-lg-2 col-md-4 col-sm-6 mb-3",children:e.jsx("div",{className:"card bg-primary text-white border-0 shadow-sm",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"text-center",children:[e.jsx("i",{className:"fas fa-file-alt fa-2x mb-2 opacity-75"}),e.jsx("h4",{className:"mb-1 fw-bold",children:d.post_count}),e.jsx("p",{className:"mb-0 small",children:"Total Posts"})]})})})}),e.jsx("div",{className:"col-lg-2 col-md-4 col-sm-6 mb-3",children:e.jsx("div",{className:"card bg-success text-white border-0 shadow-sm",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"text-center",children:[e.jsx("i",{className:"fas fa-user-friends fa-2x mb-2 opacity-75"}),e.jsx("h4",{className:"mb-1 fw-bold",children:d.influencer_count}),e.jsx("p",{className:"mb-0 small",children:"Influencers"})]})})})}),e.jsx("div",{className:"col-lg-2 col-md-4 col-sm-6 mb-3",children:e.jsx("div",{className:"card bg-info text-white border-0 shadow-sm",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"text-center",children:[e.jsx("i",{className:"fas fa-thumbs-up fa-2x mb-2 opacity-75"}),e.jsx("h4",{className:"mb-1 fw-bold",children:d.avg_likes.toLocaleString()}),e.jsx("p",{className:"mb-0 small",children:"Avg Likes"})]})})})}),e.jsx("div",{className:"col-lg-2 col-md-4 col-sm-6 mb-3",children:e.jsx("div",{className:"card bg-warning text-white border-0 shadow-sm",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"text-center",children:[e.jsx("i",{className:"fas fa-venus fa-2x mb-2 opacity-75"}),e.jsxs("h4",{className:"mb-1 fw-bold",children:[((L=d.gender_distribution.find(s=>s.name==="female"))==null?void 0:L.percentage)||0,"%"]}),e.jsx("p",{className:"mb-0 small",children:"Female"})]})})})}),e.jsx("div",{className:"col-lg-2 col-md-4 col-sm-6 mb-3",children:e.jsx("div",{className:"card bg-secondary text-white border-0 shadow-sm",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"text-center",children:[e.jsx("i",{className:"fas fa-mars fa-2x mb-2 opacity-75"}),e.jsxs("h4",{className:"mb-1 fw-bold",children:[((F=d.gender_distribution.find(s=>s.name==="male"))==null?void 0:F.percentage)||0,"%"]}),e.jsx("p",{className:"mb-0 small",children:"Male"})]})})})}),e.jsx("div",{className:"col-lg-2 col-md-4 col-sm-6 mb-3",children:e.jsx("div",{className:"card bg-dark text-white border-0 shadow-sm",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"text-center",children:[e.jsx("i",{className:"fas fa-fire fa-2x mb-2 opacity-75"}),e.jsx("h4",{className:"mb-1 fw-bold",children:((H=d.er_distribution.find(s=>s.name==="Above 10"))==null?void 0:H.count)||0}),e.jsx("p",{className:"mb-0 small",children:"High ER (>10%)"})]})})})})]})]}):e.jsxs("div",{className:"row mb-4",children:[e.jsx("div",{className:"col-xl-3 col-md-6",children:e.jsx("div",{className:"card bg-primary text-white",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"mb-0",children:G.toLocaleString()}),e.jsx("p",{className:"mb-0",children:"Total Reach"})]}),e.jsx("i",{className:"fas fa-hashtag fa-2x opacity-75"})]})})})}),e.jsx("div",{className:"col-xl-3 col-md-6",children:e.jsx("div",{className:"card bg-success text-white",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"mb-0",children:R.toLocaleString()}),e.jsx("p",{className:"mb-0",children:"Total Engagement"})]}),e.jsx("i",{className:"fas fa-heart fa-2x opacity-75"})]})})})}),e.jsx("div",{className:"col-xl-3 col-md-6",children:e.jsx("div",{className:"card bg-warning text-white",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"mb-0",children:Z.toLocaleString()}),e.jsx("p",{className:"mb-0",children:"Total Posts"})]}),e.jsx("i",{className:"fas fa-file-alt fa-2x opacity-75"})]})})})}),e.jsx("div",{className:"col-xl-3 col-md-6",children:e.jsx("div",{className:"card bg-info text-white",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"mb-0",children:B}),e.jsx("p",{className:"mb-0",children:"Trending Hashtags"})]}),e.jsx("i",{className:"fas fa-fire fa-2x opacity-75"})]})})})})]}),d&&e.jsxs("div",{className:"row mb-4",children:[e.jsx("div",{className:"col-md-4",children:e.jsx(k,{id:"gender-distribution",title:"Gender Distribution",description:"Breakdown by gender",children:e.jsx("div",{className:"d-flex flex-column gap-2",children:d.gender_distribution.map((s,a)=>e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("span",{className:"text-capitalize",children:s.name}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("span",{className:"badge bg-primary",children:s.count}),e.jsxs("span",{className:"text-muted small",children:[s.percentage,"%"]})]})]},a))})})}),e.jsx("div",{className:"col-md-4",children:e.jsx(k,{id:"er-distribution",title:"Engagement Rate Distribution",description:"ER ranges breakdown",children:e.jsx("div",{className:"d-flex flex-column gap-2",children:d.er_distribution.map((s,a)=>e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("span",{children:[s.name,"%"]}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("span",{className:"badge bg-success",children:s.count}),e.jsxs("span",{className:"text-muted small",children:[s.percentage.toFixed(1),"%"]})]})]},a))})})}),e.jsx("div",{className:"col-md-4",children:e.jsx(k,{id:"category-distribution",title:"Category Distribution",description:"Content creator categories",children:e.jsx("div",{className:"d-flex flex-column gap-2",children:d.category_distribution.map((s,a)=>e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("span",{children:s.name}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("span",{className:"badge bg-info",children:s.count}),e.jsxs("span",{className:"text-muted small",children:[s.percentage,"%"]})]})]},a))})})})]}),i.length>0&&i[0].topInfluencers&&e.jsx("div",{className:"row mb-4"}),e.jsxs(k,{id:"hashtag-posts",title:"Hashtag Posts",description:"Detailed view of all posts using this hashtag",children:[e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx("input",{type:"text",className:"form-control",placeholder:"Search posts...",value:x,onChange:s=>f(s.target.value)})}),e.jsx("div",{className:"col-md-6 text-end",children:e.jsxs("div",{className:"dropdown",children:[e.jsxs("button",{className:"btn btn-outline-primary dropdown-toggle",type:"button","data-bs-toggle":"dropdown",children:[e.jsx("i",{className:"fas fa-filter me-2"}),"Filters"]}),e.jsxs("div",{className:"dropdown-menu p-3",style:{minWidth:"250px"},children:[e.jsx("h6",{className:"dropdown-header",children:"Filter Options"}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label small",children:"Sort By (Highest)"}),e.jsxs("select",{className:"form-select form-select-sm",children:[e.jsx("option",{children:"Latest First"}),e.jsx("option",{children:"Oldest First"}),e.jsx("option",{children:"Highest Liked"}),e.jsx("option",{children:"Highest Shared"}),e.jsx("option",{children:"Highest Played"})]})]}),e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:"verifiedOnly"}),e.jsx("label",{className:"form-check-label small",htmlFor:"verifiedOnly",children:"Verified accounts only"})]}),e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:"videoOnly"}),e.jsx("label",{className:"form-check-label small",htmlFor:"videoOnly",children:"Video posts only"})]})]})]})})]}),n.length>0?e.jsxs("div",{className:"table-responsive",children:[e.jsxs("table",{className:"table table-borderless",style:{fontSize:"15px"},children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"60px",padding:"1.25rem",fontSize:"16px"},className:"fw-semibold",children:"#"}),e.jsx("th",{style:{width:"280px",padding:"1.25rem",fontSize:"16px"},className:"fw-semibold",children:"Influencer"}),e.jsx("th",{style:{width:"130px",padding:"1.25rem",fontSize:"16px"},className:"fw-semibold",children:"Post"}),e.jsx("th",{style:{width:"130px",padding:"1.25rem",fontSize:"16px"},className:"fw-semibold",children:"Post Type"}),e.jsx("th",{style:{width:"280px",padding:"1.25rem",fontSize:"16px"},className:"fw-semibold",children:"Engagement"}),e.jsx("th",{style:{padding:"1.25rem",fontSize:"16px"},className:"fw-semibold",children:"Details"})]})}),e.jsx("tbody",{children:n.map((s,a)=>e.jsxs("tr",{style:{borderBottom:"1px solid #f8f9fa"},children:[e.jsx("td",{style:{padding:"1.5rem",textAlign:"center"},children:e.jsx("span",{className:"fw-semibold text-muted",children:a+1})}),e.jsx("td",{style:{padding:"1.5rem"},children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("img",{src:s.influencer.profile_pic_url,alt:s.influencer.full_name,className:"rounded-circle me-3",style:{width:"45px",height:"45px"},onError:t=>{t.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiNFOUVDRUYiLz4KPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4PSI4IiB5PSI4Ij4KPHBhdGggZD0iTTEyIDEyQzE0LjIwOTEgMTIgMTYgMTAuMjA5MSAxNiA4QzE2IDUuNzkwODYgMTQuMjA5MSA4IDEyIDRDOS43OTA4NiA4IDggNS43OTA4NiA4IDhDOCAxMC4yMDkxIDkuNzkwODYgMTIgMTIgMTJaIiBmaWxsPSIjNkI3MjgwIi8+CjxwYXRoIGQ9Ik0xMiAxNEM4LjEzNDAxIDE0IDUgMTcuMTM0IDUgMjFIMTlDMTkgMTcuMTM0IDE1Ljg2NiAxNCAxMiAxNFoiIGZpbGw9IiM2QjcyODAiLz4KPC9zdmc+Cjwvc3ZnPgo="}}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-semibold",style:{fontSize:"16px"},children:s.influencer.username}),e.jsx("div",{className:"text-muted",style:{fontSize:"14px"},children:s.influencer.full_name}),e.jsx("div",{className:"mt-2",children:s.influencer.is_verified&&e.jsxs("span",{className:"badge bg-primary",style:{fontSize:"12px"},children:[e.jsx("i",{className:"fas fa-check me-1"}),"Verified"]})})]})]})}),e.jsx("td",{style:{padding:"1.5rem"},children:e.jsxs("div",{className:"position-relative",children:[e.jsx("img",{src:s.display_url,alt:"Post",className:"rounded cursor-pointer",style:{width:"90px",height:"90px",objectFit:"cover",cursor:"pointer"},onClick:()=>{const t=`https://www.instagram.com/p/${s.post_shortcode}/`;window.open(t,"_blank","noopener,noreferrer")},title:"Click to view on Instagram"}),s.is_video&&e.jsx("div",{className:"position-absolute top-50 start-50 translate-middle",style:{pointerEvents:"none"},children:e.jsx("i",{className:"fas fa-play-circle text-white",style:{fontSize:"1.8rem"}})}),e.jsx("div",{className:"position-absolute top-0 end-0 m-1",style:{pointerEvents:"none"},children:e.jsx("i",{className:"fab fa-instagram text-white",style:{fontSize:"1rem",textShadow:"0 0 3px rgba(0,0,0,0.5)"}})})]})}),e.jsxs("td",{style:{padding:"1.5rem"},children:[e.jsx("span",{className:`badge ${s.is_video?"bg-success":s.is_carousel?"bg-info":"bg-secondary"}`,style:{fontSize:"13px"},children:s.is_video?"Video":s.is_carousel?"Carousel":"Image"}),e.jsx("div",{className:"text-muted mt-2",style:{fontSize:"13px"},children:"Organic"})]}),e.jsx("td",{style:{padding:"1.5rem"},children:e.jsx("div",{className:"d-flex align-items-center justify-content-start gap-4",children:e.jsxs("div",{className:"d-flex flex-column gap-3",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"far fa-eye text-primary me-2",style:{fontSize:"16px",width:"20px"}}),e.jsx("span",{className:"fw-semibold",style:{fontSize:"15px"},children:(s.total_play||s.reach||0).toLocaleString()})]}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"fas fa-heart text-danger me-2",style:{fontSize:"16px",width:"20px"}}),e.jsx("span",{className:"fw-semibold",style:{fontSize:"15px"},children:s.total_likes||0})]}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"fas fa-share text-success me-2",style:{fontSize:"16px",width:"20px"}}),e.jsx("span",{className:"fw-semibold",style:{fontSize:"15px"},children:s.reshare_count||0})]}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"fas fa-comment text-info me-2",style:{fontSize:"16px",width:"20px"}}),e.jsx("span",{className:"fw-semibold",style:{fontSize:"15px"},children:s.total_comments||0})]})]})})}),e.jsx("td",{style:{padding:"1.5rem",minWidth:"350px"},children:e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("i",{className:"far fa-calendar text-muted me-2",style:{fontSize:"14px"}}),e.jsx("span",{style:{fontSize:"15px"},children:s.created_date})]}),e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("i",{className:"fas fa-users text-muted me-2",style:{fontSize:"14px"}}),e.jsx("span",{style:{fontSize:"15px"},children:(s.total_play||0).toLocaleString()})]}),s.location&&s.location.name&&e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("i",{className:"fas fa-map-marker-alt text-danger me-2",style:{fontSize:"14px"}}),e.jsx("span",{className:"text-truncate",style:{maxWidth:"250px",fontSize:"15px"},children:s.location.name})]}),e.jsx("div",{className:"mb-3",children:e.jsx("div",{style:{maxWidth:"300px",fontSize:"15px",lineHeight:"1.4",overflow:w.has(s._id)?"visible":"hidden",display:w.has(s._id)?"block":"-webkit-box",WebkitLineClamp:w.has(s._id)?"none":3,WebkitBoxOrient:"vertical",textOverflow:"ellipsis"},children:w.has(s._id)?s.caption:s.caption.length>80?`${s.caption.substring(0,80)}...`:s.caption})}),e.jsxs("div",{className:"d-flex flex-wrap gap-1 mb-3",children:[(P.has(s._id)?s.hashtags:s.hashtags.slice(0,4)).map((t,p)=>e.jsx("span",{className:"badge bg-light text-primary",style:{fontSize:"12px"},children:t},p)),s.hashtags.length>4&&!P.has(s._id)&&e.jsxs("span",{className:"badge bg-light text-muted",style:{fontSize:"12px",cursor:"pointer",transition:"all 0.2s ease",border:"1px solid transparent"},onClick:()=>z(s._id),onMouseEnter:t=>{t.currentTarget.style.backgroundColor="#e9ecef",t.currentTarget.style.borderColor="#dee2e6"},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="#f8f9fa",t.currentTarget.style.borderColor="transparent"},role:"button",title:"Click to show all hashtags",children:[e.jsx("i",{className:"fas fa-hashtag me-1"}),"+",s.hashtags.length-4]}),P.has(s._id)&&s.hashtags.length>4&&e.jsxs("span",{className:"badge bg-light text-muted",style:{fontSize:"12px",cursor:"pointer",transition:"all 0.2s ease",border:"1px solid transparent"},onClick:()=>z(s._id),onMouseEnter:t=>{t.currentTarget.style.backgroundColor="#e9ecef",t.currentTarget.style.borderColor="#dee2e6"},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="#f8f9fa",t.currentTarget.style.borderColor="transparent"},role:"button",title:"Click to show less hashtags",children:[e.jsx("i",{className:"fas fa-minus me-1"}),"Show Less"]})]}),s.caption.length>80&&e.jsx("div",{children:e.jsx("button",{className:"btn btn-link btn-sm p-0 text-primary",style:{fontSize:"15px",cursor:"pointer"},onClick:()=>O(s._id),children:w.has(s._id)?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-chevron-up me-1"}),"View Less"]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-chevron-down me-1"}),"View More"]})})})]})})]},s._id))})]}),!l&&y>0&&g<y&&e.jsx("div",{className:"text-center mt-4",children:e.jsxs("button",{className:"btn btn-outline-primary",onClick:D,disabled:l,children:[e.jsx("i",{className:"fas fa-chevron-down me-2"}),"Load ",b," More"]})}),!l&&y>1&&e.jsxs("div",{className:"d-flex justify-content-center align-items-center mt-4 gap-3",children:[e.jsxs("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>{g>1&&(j(1),(async()=>{try{r(!0);const a=await A.getCampaignContents(h,1,b);if(a.success){c(a.data.posts);const t=T(a.data.posts,h);m([t]),j(1)}}catch(a){console.error("Error loading first page:",a)}finally{r(!1)}})())},disabled:g===1||l,children:[e.jsx("i",{className:"fas fa-chevron-left me-1"}),"First"]}),e.jsxs("span",{className:"badge bg-primary fs-6 px-3 py-2",children:["Page ",g," of ",y]}),e.jsxs("button",{className:"btn btn-outline-primary btn-sm",onClick:D,disabled:g>=y||l,children:["Next",e.jsx("i",{className:"fas fa-chevron-right ms-1"})]})]}),!l&&u>0&&e.jsx("div",{className:"text-center mt-3",children:e.jsxs("small",{className:"text-muted",children:["Showing ",n.length," of ",u," posts"]})})]}):e.jsxs("div",{className:"text-center py-5",children:[e.jsx("i",{className:"fas fa-hashtag fa-3x text-muted mb-3"}),e.jsx("h5",{className:"text-muted",children:"No posts found"}),e.jsx("p",{className:"text-muted",children:"Try searching for a different hashtag or check your API connection."})]})]})]})]})]})};export{J as default};
