import{r as c,j as e}from"./index-CWgGhmBd.js";import{C as M}from"./ComponentContainerCard-C_hoW08e.js";import{P as F}from"./PageTitle-BG0EeW2B.js";import{C}from"./campaignAnalyticsService-BFJtBcgO.js";import{f as _}from"./numberFormat-yIx-nKgv.js";import"./Card-m_oFlwtE.js";import"./IconifyIcon-CNuVxH_0.js";import"./api-VjRoL-6d.js";const Y=()=>{var g,v,y,w;const[t,S]=c.useState(null),[m,h]=c.useState(!0),[j,f]=c.useState(null),[l,P]=c.useState(null),[d,p]=c.useState(!0),[N,b]=c.useState(null),[n,L]=c.useState(1),[o]=c.useState(10),[E,x]=c.useState(!1),[a,I]=c.useState(null),u={totalPosts:"0",totalViews:"0",totalLikes:"0",totalComments:"0",totalReshare:"0",avgER:0,avgReach:"0",influencerCount:0,platforms:[{name:"Instagram",followers:0,engagement:0,posts:0},{name:"Facebook",followers:0,engagement:0,posts:0},{name:"Twitter",followers:0,engagement:0,posts:0},{name:"LinkedIn",followers:0,engagement:0,posts:0}]};c.useEffect(()=>{(async()=>{try{h(!0),f(null);const i=await C.getCampaignAnalysis("837");S(i)}catch(i){f(i instanceof Error?i.message:"Failed to fetch analytics data"),console.error("Error fetching analytics:",i)}finally{h(!1)}})()},[]),c.useEffect(()=>{(async()=>{try{p(!0),b(null);const i=await C.getInfluencerList("837",n,o);P(i)}catch(i){b(i instanceof Error?i.message:"Failed to fetch influencer data"),console.error("Error fetching influencers:",i)}finally{p(!1)}})()},[n,o]);const r=t!=null&&t.data?{totalPosts:t.data.total_posts||"0",totalViews:t.data.total_views||"0",totalLikes:t.data.total_likes||"0",totalComments:t.data.total_comments||"0",totalReshare:t.data.total_reshare||"0",avgER:t.data.avg_er||0,avgReach:t.data.avg_reach||"0",influencerCount:t.data.influencer_count||0,platforms:u.platforms}:u;return e.jsxs(e.Fragment,{children:[e.jsx(F,{title:"Social Analytics",subName:"Track your social media performance"}),e.jsxs("div",{className:"container-fluid",children:[m&&e.jsx("div",{className:"row mb-4",children:e.jsxs("div",{className:"col-12 text-center",children:[e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}),e.jsx("p",{className:"mt-2",children:"Loading analytics data..."})]})}),j&&e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"alert alert-danger",role:"alert",children:[e.jsx("i",{className:"fas fa-exclamation-triangle me-2"}),j,e.jsx("button",{className:"btn btn-sm btn-outline-danger ms-3",onClick:()=>window.location.reload(),children:"Retry"})]})})}),!m&&e.jsxs("div",{className:"row mb-4",children:[e.jsx("div",{className:"col-xl-3 col-md-6",children:e.jsx("div",{className:"card bg-dark text-white",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"mb-0",children:_(r.influencerCount)}),e.jsx("p",{className:"mb-0",children:"Influencers"})]}),e.jsx("i",{className:"fas fa-user-friends fa-2x opacity-75"})]})})})}),e.jsx("div",{className:"col-xl-3 col-md-6",children:e.jsx("div",{className:"card bg-primary text-white",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"d-flex justiftotal_viewsy-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"mb-0",children:r.totalPosts}),e.jsx("p",{className:"mb-0",children:"Total Posts"})]}),e.jsx("i",{className:"fas fa-file-alt fa-2x opacity-75"})]})})})}),e.jsx("div",{className:"col-xl-3 col-md-6",children:e.jsx("div",{className:"card bg-success text-white",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"mb-0",children:r.totalViews}),e.jsx("p",{className:"mb-0",children:"Total Views"})]}),e.jsx("i",{className:"fas fa-eye fa-2x opacity-75"})]})})})}),e.jsx("div",{className:"col-xl-3 col-md-6",children:e.jsx("div",{className:"card bg-warning text-white",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"mb-0",children:r.totalLikes}),e.jsx("p",{className:"mb-0",children:"Total Likes"})]}),e.jsx("i",{className:"fas fa-heart fa-2x opacity-75"})]})})})})]}),!m&&(t==null?void 0:t.data)&&e.jsxs("div",{className:"row mb-4",children:[e.jsx("div",{className:"col-xl-3 col-md-6",children:e.jsx("div",{className:"card bg-secondary text-white",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"mb-0",children:r.totalReshare}),e.jsx("p",{className:"mb-0",children:"Total Reshares"})]}),e.jsx("i",{className:"fas fa-share fa-2x opacity-75"})]})})})}),e.jsx("div",{className:"col-xl-3 col-md-6",children:e.jsx("div",{className:"card bg-info text-white",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"mb-0",children:r.totalComments}),e.jsx("p",{className:"mb-0",children:"Total Comments"})]}),e.jsx("i",{className:"fas fa-comments fa-2x opacity-75"})]})})})})]}),e.jsxs(M,{id:"influencer-analytics",title:"Influencer Performance",description:"Detailed analytics by influencers in the campaign",children:[d&&e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading influencers..."})}),e.jsx("p",{className:"mt-2",children:"Loading influencer data..."})]}),N&&e.jsxs("div",{className:"alert alert-danger",role:"alert",children:[e.jsx("i",{className:"fas fa-exclamation-triangle me-2"}),N]}),!d&&((g=l==null?void 0:l.data)==null?void 0:g.result)&&e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-striped table-hover",children:[e.jsx("thead",{className:"table-dark",children:e.jsxs("tr",{children:[e.jsx("th",{children:"S.No"}),e.jsx("th",{children:"Influencer"}),e.jsx("th",{children:"Views "}),e.jsx("th",{children:"Likes"}),e.jsx("th",{children:"Comments"}),e.jsx("th",{children:"Content ER"}),e.jsx("th",{children:"Reach"}),e.jsx("th",{children:"Shares"}),e.jsx("th",{children:"Post Actions"})]})}),e.jsx("tbody",{children:l.data.result.map((s,i)=>{var k;return e.jsxs("tr",{children:[e.jsx("td",{className:"fw-semibold",children:(n-1)*o+i+1}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsxs("div",{className:"position-relative me-3",children:[e.jsx("img",{src:s.profile_pic_url,alt:s.fullname,className:"rounded-circle",style:{width:"40px",height:"40px",objectFit:"cover"},onError:R=>{R.target.src="https://via.placeholder.com/40x40/6c757d/ffffff?text="+s.fullname.charAt(0)}}),e.jsx("i",{className:"fab fa-instagram text-primary position-absolute",style:{fontSize:"12px",bottom:"-2px",right:"-2px",backgroundColor:"white",borderRadius:"50%",padding:"2px",border:"1px solid #dee2e6"}})]}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-semibold text-dark",children:s.fullname}),e.jsx("small",{className:"text-muted",children:s.handle})]})]})}),e.jsx("td",{children:e.jsx("span",{className:"fw-semibold",children:s.total_views})}),e.jsx("td",{children:s.total_likes==="0"?e.jsx("span",{className:"text-warning",children:"Hidden"}):e.jsx("span",{className:"fw-semibold",children:s.total_likes})}),e.jsx("td",{children:e.jsx("span",{className:"fw-semibold",children:s.total_comments})}),e.jsx("td",{children:e.jsx("span",{className:"fw-semibold",children:parseFloat(s.er).toFixed(2)})}),e.jsx("td",{children:e.jsx("span",{className:"fw-semibold",children:typeof s.reach=="number"?_(s.reach):s.reach})}),e.jsx("td",{children:e.jsx("span",{className:"fw-semibold",children:s.total_reshare_count})}),e.jsx("td",{children:e.jsx("img",{src:((k=s.posts[0])==null?void 0:k.display_url)||"https://via.placeholder.com/30x30/6c757d/ffffff",alt:"Post",className:"rounded",style:{width:"30px",height:"30px",objectFit:"cover",cursor:"pointer"},title:"View Post Details",onClick:()=>{I(s),x(!0)}})})]},s.influencer_id)})})]})}),!d&&(l==null?void 0:l.data)&&n<l.data.totalPages&&e.jsx("div",{className:"text-center mt-4",children:e.jsxs("button",{className:"btn btn-outline-primary",onClick:()=>L(s=>s+1),disabled:d,children:[e.jsx("i",{className:"fas fa-chevron-down me-2"}),"Load 10 More"]})}),!d&&(l==null?void 0:l.data)&&e.jsx("div",{className:"text-center mt-3",children:e.jsxs("small",{className:"text-muted",children:["Showing ",(n-1)*o+1," to"," ",Math.min(n*o,l.data.totalCount)," of"," ",l.data.totalCount," influencers"]})})]})]}),E&&a&&e.jsx("div",{className:"modal fade show d-block",tabIndex:-1,style:{backgroundColor:"rgba(0,0,0,0.5)"},onClick:()=>x(!1),children:e.jsx("div",{className:"modal-dialog modal-lg",onClick:s=>s.stopPropagation(),children:e.jsxs("div",{className:"modal-content",children:[e.jsx("div",{className:"modal-header border-0 pb-0",children:e.jsx("button",{type:"button",className:"btn-close",onClick:()=>x(!1)})}),e.jsx("div",{className:"modal-body pt-0",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsx("img",{src:((v=a.posts[0])==null?void 0:v.display_url)||"https://via.placeholder.com/400x400/6c757d/ffffff",alt:"Post",className:"img-fluid rounded",style:{width:"100%",maxHeight:"500px",objectFit:"cover"}})}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsxs("div",{className:"position-relative me-3",children:[e.jsx("img",{src:a.profile_pic_url,alt:a.fullname,className:"rounded-circle",style:{width:"40px",height:"40px",objectFit:"cover"}}),e.jsx("i",{className:"fab fa-instagram text-primary position-absolute",style:{fontSize:"12px",bottom:"-2px",right:"-2px",backgroundColor:"white",borderRadius:"50%",padding:"2px",border:"1px solid #dee2e6"}})]}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-semibold",children:a.fullname}),e.jsx("small",{className:"text-muted",children:a.handle})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("small",{className:"text-muted",children:((y=a.posts[0])==null?void 0:y.post_date)||"Oct 10, 2025"}),e.jsx("div",{className:"d-flex align-items-center justify-content-end"})]}),e.jsx("div",{className:"mb-3",children:e.jsx("p",{className:"text-muted small",style:{fontSize:"12px",lineHeight:"1.4",maxHeight:"120px",overflowY:"auto"},children:((w=a.posts[0])==null?void 0:w.caption)||`#Collaboration

📢 Introducing the all-new
*#GalaxyM17 5G* - the Monster In Motion
at a *Special Launch Price* ~₹16499~ *₹12499* 🌟

🤳🏻 50MP No Shake Cam for blur-free videos

💪🏻 Durable Corning Gorilla Glass Victus and IP54 protection 🌟 7.5mm slim design

✨ Circle to Search | Google Gemini

6️⃣ Gen OS and Security updates

📲 sAMOLED Display | 1100 nits

*Sale starts: 13th October*
▶️Head over to Amazon to know more. @samsungindia
#GalaxyM17 5G #MonsterInMotion #LoveForMonster #Samsung #trendup
#ExploreGalaxy #trending #viral #viralreels`})}),e.jsxs("div",{className:"row g-2 mb-4",children:[e.jsx("div",{className:"col-4",children:e.jsx("div",{className:"card border-0 text-center py-3",style:{background:"linear-gradient(135deg, #e91e63 0%, #f06292 100%)",borderRadius:"12px"},children:e.jsxs("div",{className:"d-flex flex-column align-items-center",children:[e.jsx("div",{className:"rounded-circle d-flex align-items-center justify-content-center mb-2",style:{width:"36px",height:"36px",backgroundColor:"rgba(255,255,255,0.2)"},children:e.jsx("i",{className:"fas fa-heart text-white"})}),e.jsx("span",{className:"fw-bold text-white small",children:a.total_likes==="0"?"Hidden":a.total_likes}),e.jsx("small",{className:"text-white-50",children:"Likes"})]})})}),e.jsx("div",{className:"col-4",children:e.jsx("div",{className:"card border-0 text-center py-3",style:{background:"linear-gradient(135deg, #2196f3 0%, #64b5f6 100%)",borderRadius:"12px"},children:e.jsxs("div",{className:"d-flex flex-column align-items-center",children:[e.jsx("div",{className:"rounded-circle d-flex align-items-center justify-content-center mb-2",style:{width:"36px",height:"36px",backgroundColor:"rgba(255,255,255,0.2)"},children:e.jsx("i",{className:"fas fa-comment text-white"})}),e.jsx("span",{className:"fw-bold text-white small",children:a.total_comments}),e.jsx("small",{className:"text-white-50",children:"Comments"})]})})}),e.jsx("div",{className:"col-4",children:e.jsx("div",{className:"card border-0 text-center py-3",style:{background:"linear-gradient(135deg, #4caf50 0%, #81c784 100%)",borderRadius:"12px"},children:e.jsxs("div",{className:"d-flex flex-column align-items-center",children:[e.jsx("div",{className:"rounded-circle d-flex align-items-center justify-content-center mb-2",style:{width:"36px",height:"36px",backgroundColor:"rgba(255,255,255,0.2)"},children:e.jsx("i",{className:"fas fa-share text-white"})}),e.jsx("span",{className:"fw-bold text-white small",children:a.total_views}),e.jsx("small",{className:"text-white-50",children:"Views"})]})})})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsxs("span",{className:"badge bg-dark me-2",children:[parseFloat(a.er).toFixed(2),"%"]}),e.jsx("small",{className:"text-muted",children:"ER"})]}),e.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>{var s;(s=a.posts[0])!=null&&s.post_link&&window.open(a.posts[0].post_link,"_blank")},children:"View More"})]})]})]})})]})})})]})};export{Y as default};
