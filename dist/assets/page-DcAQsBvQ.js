import{r as c,j as e,R as b,d as u,F as V}from"./index-D6JG3wqs.js";import{P as A}from"./PageTitle-QH9VpT-J.js";import{I as m}from"./IconifyIcon-DyDp3QPr.js";import{m as z,B as T}from"./mockData-BL3fXRSn.js";import{C as G,b as E,a as H}from"./Card-DtpoLONq.js";import{I as P,F as v}from"./InputGroup-LYC4uL4Y.js";import{B as k}from"./Button-BYZa633z.js";import"./FormCheck-_uNCLc5p.js";import"./FormControl-CFPYD8oA.js";import"./warning-FUmyl91f.js";import"./FormLabel-CK6E2MUb.js";import"./ElementChildren-A3jdmZtd.js";import"./FormGroup-DujyzLyB.js";import"./FormSelect-D8cAHsye.js";import"./FormText-CLg_fanB.js";import"./InputGroupContext-DpiznK67.js";import"./Button-CXkCp-m9.js";const K=n=>{const r=Math.floor((new Date().getTime()-n.getTime())/1e3);if(r<60)return"just now";if(r<3600){const o=Math.floor(r/60);return`${o} ${o===1?"minute":"minutes"} ago`}else if(r<86400){const o=Math.floor(r/3600);return`${o} ${o===1?"hour":"hours"} ago`}else{const o=Math.floor(r/86400);return`${o} ${o===1?"day":"days"} ago`}},le=()=>{const[n,p]=c.useState(1),[r,o]=c.useState(10),[x,R]=c.useState(""),[g,L]=c.useState("all"),[l,$]=c.useState("timestamp"),[d,N]=c.useState("desc"),C=c.useMemo(()=>{const s=[...z],h=[];for(let t=0;t<50;t++){const a=["like","comment","share","view"],i=["Ravi Kumar","Anjali Verma","Sanjay Patel","Deepika Roy","Amit Gupta","Nisha Singh","Karan Sharma","Pooja Reddy"],S=["Day 10: Coconut Rice Special","Saffron Basmati Tutorial","Quick Jeera Rice Recipe","Biryani Layering Technique","Healthy Brown Rice Bowl","Traditional Pulao Method","Rice & Lentil Combinations"];h.push({id:`interaction-${t+6}`,type:a[Math.floor(Math.random()*a.length)],userId:`user-${t+6}`,userName:i[Math.floor(Math.random()*i.length)],userAvatar:`/src/assets/images/users/avatar-${t%5+1}.jpg`,contentId:`post-${t+6}`,contentTitle:S[Math.floor(Math.random()*S.length)],timestamp:new Date(Date.now()-Math.random()*7*24*60*60*1e3),message:Math.random()>.7?"Great content! Really helpful.":void 0})}return[...s,...h]},[]),I=c.useMemo(()=>C.filter(s=>{const h=s.userName.toLowerCase().includes(x.toLowerCase())||s.contentTitle.toLowerCase().includes(x.toLowerCase())||s.message&&s.message.toLowerCase().includes(x.toLowerCase()),t=g==="all"||s.type===g;return h&&t}),[C,x,g]),j=c.useMemo(()=>[...I].sort((s,h)=>{let t=s[l],a=h[l];return l==="timestamp"&&(t=new Date(t).getTime(),a=new Date(a).getTime()),typeof t=="string"&&typeof a=="string"&&(t=t.toLowerCase(),a=a.toLowerCase()),t==null&&(t=""),a==null&&(a=""),t<a?d==="asc"?-1:1:t>a?d==="asc"?1:-1:0}),[I,l,d]),y=Math.ceil(j.length/r),f=(n-1)*r,M=j.slice(f,f+r),w=s=>{l===s?N(d==="asc"?"desc":"asc"):($(s),N("asc"))},B=s=>{switch(s){case"like":return"solar:heart-broken";case"comment":return"solar:chat-round-line-broken";case"share":return"solar:share-broken";case"view":return"solar:eye-broken";default:return"solar:star-broken"}},D=s=>{switch(s){case"like":return"danger";case"comment":return"primary";case"share":return"success";case"view":return"secondary";default:return"info"}},F=()=>{const s=[],t=Math.max(1,n-Math.floor(2.5)),a=Math.min(y,t+5-1);s.push(e.jsx(k,{variant:"outline-primary",size:"sm",className:"me-2",disabled:n===1,onClick:()=>p(n-1),children:e.jsx(m,{icon:"solar:alt-arrow-left-broken"})},"prev"));for(let i=t;i<=a;i++)s.push(e.jsx(k,{variant:i===n?"primary":"outline-primary",size:"sm",className:"me-2",onClick:()=>p(i),children:i},i));return s.push(e.jsx(k,{variant:"outline-primary",size:"sm",disabled:n===y,onClick:()=>p(n+1),children:e.jsx(m,{icon:"solar:alt-arrow-right-broken"})},"next")),s};return e.jsxs(e.Fragment,{children:[e.jsx(A,{subName:"Daawat",title:"Interactions"}),e.jsxs(G,{children:[e.jsx(E,{children:e.jsxs(b,{className:"align-items-center",children:[e.jsxs(u,{children:[e.jsx("h5",{className:"card-title mb-0",children:"All Interactions"}),e.jsxs("small",{className:"text-muted",children:["Showing ",f+1," to ",Math.min(f+r,j.length)," of ",j.length," interactions"]})]}),e.jsx(u,{xs:"auto",children:e.jsx(T,{bg:"primary",pill:!0,children:j.length})})]})}),e.jsxs(H,{children:[e.jsxs(b,{className:"mb-4",children:[e.jsx(u,{md:4,children:e.jsxs(P,{children:[e.jsx(P.Text,{children:e.jsx(m,{icon:"solar:magnifer-broken"})}),e.jsx(v.Control,{type:"text",placeholder:"Search interactions...",value:x,onChange:s=>R(s.target.value)})]})}),e.jsx(u,{md:3,children:e.jsxs(v.Select,{value:g,onChange:s=>L(s.target.value),children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"like",children:"Likes"}),e.jsx("option",{value:"comment",children:"Comments"}),e.jsx("option",{value:"share",children:"Shares"}),e.jsx("option",{value:"view",children:"Views"})]})}),e.jsx(u,{md:2,children:e.jsxs(v.Select,{value:r,onChange:s=>{o(Number(s.target.value)),p(1)},children:[e.jsx("option",{value:5,children:"5 per page"}),e.jsx("option",{value:10,children:"10 per page"}),e.jsx("option",{value:25,children:"25 per page"}),e.jsx("option",{value:50,children:"50 per page"})]})})]}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsxs("th",{scope:"col",className:"cursor-pointer",onClick:()=>w("type"),children:["Type ",l==="type"&&e.jsx(m,{icon:d==="asc"?"solar:alt-arrow-up-broken":"solar:alt-arrow-down-broken"})]}),e.jsxs("th",{scope:"col",className:"cursor-pointer",onClick:()=>w("userName"),children:["User ",l==="userName"&&e.jsx(m,{icon:d==="asc"?"solar:alt-arrow-up-broken":"solar:alt-arrow-down-broken"})]}),e.jsxs("th",{scope:"col",className:"cursor-pointer",onClick:()=>w("contentTitle"),children:["Content ",l==="contentTitle"&&e.jsx(m,{icon:d==="asc"?"solar:alt-arrow-up-broken":"solar:alt-arrow-down-broken"})]}),e.jsx("th",{scope:"col",children:"Message"}),e.jsxs("th",{scope:"col",className:"cursor-pointer",onClick:()=>w("timestamp"),children:["Time ",l==="timestamp"&&e.jsx(m,{icon:d==="asc"?"solar:alt-arrow-up-broken":"solar:alt-arrow-down-broken"})]})]})}),e.jsx("tbody",{children:M.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs(T,{bg:D(s.type),className:"d-flex align-items-center w-fit",children:[e.jsx(m,{icon:B(s.type),className:"fs-12 me-1"}),s.type]})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"avatar-xs rounded-circle me-2",style:{width:"24px",height:"24px",backgroundImage:`url(${s.userAvatar})`,backgroundSize:"cover",backgroundPosition:"center"}}),s.userName]})}),e.jsx("td",{className:"text-truncate",style:{maxWidth:"200px"},children:s.contentTitle}),e.jsx("td",{className:"text-truncate",style:{maxWidth:"150px"},children:s.message||"-"}),e.jsx("td",{className:"text-muted small",children:K(s.timestamp)})]},s.id))})]})}),y>1&&e.jsx(b,{className:"mt-4",children:e.jsx(u,{className:"d-flex justify-content-center",children:e.jsx("div",{className:"d-flex align-items-center",children:F()})})}),M.length===0&&e.jsxs("div",{className:"text-center py-5",children:[e.jsx(m,{icon:"solar:inbox-broken",className:"fs-48 text-muted mb-3"}),e.jsx("h5",{className:"text-muted",children:"No interactions found"}),e.jsx("p",{className:"text-muted",children:"Try adjusting your search or filter criteria."})]})]})]}),e.jsx(V,{})]})};export{le as default};
